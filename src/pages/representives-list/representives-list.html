<ion-header>
  <ion-navbar>
      <ion-title>
          <p class="white" text-wrap>Find Representatives</p>
      </ion-title>
     
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-searchbar (ionInput)="onSearchInput()"  [(ngModel)]="searchTerm" [formControl]="searchControl"   [showCancelButton]="shouldShowCancel" [debounce]="500" (ionCancel)="cancel()"></ion-searchbar>
  <div class="timeline-wrapper" *ngIf="enablePlaceholder">
    <div class="timeline-item">
        <div class="animated-background">
            <div class="background-masker header-top"></div>
            <div class="background-masker header-left"></div>
            <div class="background-masker header-right"></div>
            <div class="background-masker header-bottom"></div>
            <div class="background-masker subheader-left"></div>
            <div class="background-masker subheader-right"></div>
            <div class="background-masker subheader-bottom"></div>
            <div class="background-masker content-top"></div>
            <div class="background-masker content-first-end"></div>
            <div class="background-masker content-second-line"></div>
            <div class="background-masker content-second-end"></div>
            <div class="background-masker content-third-line"></div>
            <div class="background-masker content-third-end"></div>
        </div>
    </div>
</div>

<div class="timeline-wrapper" *ngIf="enablePlaceholder">
    <div class="timeline-item">
        <div class="animated-background">
            <div class="background-masker header-top"></div>
            <div class="background-masker header-left"></div>
            <div class="background-masker header-right"></div>
            <div class="background-masker header-bottom"></div>
            <div class="background-masker subheader-left"></div>
            <div class="background-masker subheader-right"></div>
            <div class="background-masker subheader-bottom"></div>
            <div class="background-masker content-top"></div>
            <div class="background-masker content-first-end"></div>
            <div class="background-masker content-second-line"></div>
            <div class="background-masker content-second-end"></div>
            <div class="background-masker content-third-line"></div>
            <div class="background-masker content-third-end"></div>
        </div>
    </div>
</div>

<div class="timeline-wrapper" *ngIf="enablePlaceholder">
    <div class="timeline-item">
        <div class="animated-background">
            <div class="background-masker header-top"></div>
            <div class="background-masker header-left"></div>
            <div class="background-masker header-right"></div>
            <div class="background-masker header-bottom"></div>
            <div class="background-masker subheader-left"></div>
            <div class="background-masker subheader-right"></div>
            <div class="background-masker subheader-bottom"></div>
            <div class="background-masker content-top"></div>
            <div class="background-masker content-first-end"></div>
            <div class="background-masker content-second-line"></div>
            <div class="background-masker content-second-end"></div>
            <div class="background-masker content-third-line"></div>
            <div class="background-masker content-third-end"></div>
        </div>
    </div>
</div>
  <ion-list>
      <ion-list-header>
        All Representatives
      </ion-list-header>
      <ion-item *ngFor="let rep of items, let i = index">
          <ion-avatar item-start (click)="goToRepProfile(rep.id)">
            <img [src]="rep.photo_url ? rep.photo_url : 'assets/img/icon.png'"  style="border:2px solid #ada8a8;">
          </ion-avatar>
          <h2 text-wrap (click)="goToRepProfile(rep.id)">{{rep.name}}</h2>
          <p class="text-wrap" *ngIf="rep.rep_type === 'sen'"> <small>Senator of {{rep.state}}</small></p>
          <p class="text-wrap" *ngIf="rep.rep_type === 'rep'"> <small>Representative of {{rep.state}}</small></p>

          <button (click)="followRep(rep.id, $event)" ion-button clear item-end class="follow-btn">{{findInLoop(rep.followers)}}</button>
        </ion-item>
    </ion-list>
    
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
        <ion-infinite-scroll-content 
        loadingSpinner="bubbles"
        loadingText="Loading more..."></ion-infinite-scroll-content>
      </ion-infinite-scroll>
</ion-content>